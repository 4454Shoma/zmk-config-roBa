#include "roBa.dtsi"

/* 既存のスキャンピン定義（そのままでOK） */
&kscan0 {
    col-gpios = <&xiao_d 10 GPIO_ACTIVE_HIGH>,
                <&xiao_d 9  GPIO_ACTIVE_HIGH>,
                <&xiao_d 8  GPIO_ACTIVE_HIGH>,
                <&xiao_d 7  GPIO_ACTIVE_HIGH>,
                <&gpio0 10  GPIO_ACTIVE_HIGH>,
                <&gpio0 9   GPIO_ACTIVE_HIGH>;
};

/* エンコーダ実体の有効化（roBa.dtsi 側に定義がある前提） */
&left_encoder {
    status = "okay";
    /* steps / a-gpios / b-gpios は roBa.dtsi 側で定義済みの想定 */
};

/* ★ ここで roBa.dtsi の sensors を上書きする */
&sensors {
    /* 左のエンコーダだけを束ねる */
    sensors = <&left_encoder>;

    /* 例: デテント数に合わせる。EC11なら 15 か 24 が扱いやすい */
    triggers-per-rotation = <15>;
}
